<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="custom_portal_header" inherit_id="website.navbar_nav" name="Custom Portal Header">
        <xpath expr="//ul[@id='top_menu']" position="inside">
            <li class="nav-item">
                <a href="/qr-scan" class="nav-link">Escanear QR</a>
            </li>
        </xpath>
    </template>

    <template id="homeTemplate" name="Pagina de inicio">
        <t t-call="portal.frontend_layout">
            <div class="container py-5 mt-4 d-flex flex-column align-items-center">
                <h2 class="section-title display-5 mb-5 text-center fw-bold">
                    Registrar salida/entrada vehiculo
                </h2>
                <a href="/qr-scan" class="btn btn-primary m-auto">Escanear QR</a>
            </div>
        </t>
    </template>

    <template id="qrScanTemplateView" name="Vista HTMl de QR Scan">
        <div class="container py-5">
            <div class="d-flex flex-column align-items-center gap-2">

                <div class="d-flex justify-content-center">
                    <div class="row w-100 justify-content-center gap-3">

                        <div class="col-6 col-lg-8">
                            <div class="card p-4 shadow">
                                <h3 class="card-title text-center fw-bold mb-4">Registrar acción</h3>
                                <div id="reader" style="width: 100%; max-width: 400px; margin: 0 auto;"></div>
                            </div>
                        </div>

                        <div class="col-6 col-lg-8">
                            <div class="card p-4 shadow">
                                <h5 class="card-subtitle mb-3">Resultados del Escaneo</h5>
                                <p class="msg-log border p-3 bg-light rounded"></p>
                                <div class="box-selection d-none gap-3 align-items-center">
                                    <span class="fw-bold">Acción:</span>
                                    <select class="form-select w-auto">
                                        <option value="0" disabled="disabled" selected="selected">Selecciona una acción</option>
                                        <option value="salir">Salir</option>
                                        <option value="estacionar">Estacionar</option>
                                    </select>
                                    <button class="btn btn-primary from-submit-data">Enviar</button>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>

            </div>
        </div>
    </template>

    <template id="qrScanTemplate" name="QR Scan Page">
        <t t-call="portal.frontend_layout">
            <div id="wrap">
                <t t-call="ports_and_zones.qrScanTemplateView" />
            </div>

            <script src="https://unpkg.com/html5-qrcode" type="text/javascript"/>
            <script type="text/javascript" src="/ports_and_zones/static/src/js/form_qr.js"/>
        </t>
    </template>

</odoo>
